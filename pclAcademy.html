<!DOCTYPE html>
<html lang="en">
<head> 
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PCL - Producers Connection Logistics Inc.</title>
    <link rel="icon" type="image/png" href="assets/img/logo.png">
    <link rel="stylesheet" href="assets/css/pcla.css">
    <link rel="stylesheet" href="assets/css/style.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="preload" href="assets/loader/logo.mp4" as="video">
</head>
<body>
    <div class="page-loader">
    <video class="loader-video" src="assets/loader/logo.mp4" autoplay muted playsinline loop preload="auto"></video>
    </div>
    <!-- Sticky Mother Header -->
    <iframe src="mother-header.html" style="margin-bottom:-10px;width:100%;height:38px;border:none;z-index:10000;position:sticky;top:0;" scrolling="no" allowtransparency="true"></iframe>

    <!-- Hero Section -->
    <section class="pcla-hero-section">
        <div class="pcla-hero-content">
        </div>
    </section>

    <!-- Our Company Section -->
    <section class="pcl-academy-section">
        <div class="container">
            <h2 class="pcl-academy-header">Welcome to the PCL Academy</h2>
            <p class="pcl-academy-desc">Your hub for growth and continuous learning. Access training materials, development programs, and resources designed to help you enhance your skills, stay updated, and excel in your role. Together, we learn, grow, and succeed.</p>
            <div class="pcl-academy-script">Empowering every employee<br>through learning.</div>
            <div class="pcl-academy-grid">
                <div class="pcl-academy-item">
                    <img src="assets/img/pcla/pcla1.png" alt="New Employee Orientation" class="pcl-academy-img">
                    <div class="pcl-academy-label">New Employee<br>Orientation</div>
                </div>
                <div class="pcl-academy-item">
                    <img src="assets/img/pcla/pcla2.png" alt="Safety & Compliance" class="pcl-academy-img">
                    <div class="pcl-academy-label">Safety & Compliance</div>
                </div>
                <div class="pcl-academy-item">
                    <img src="assets/img/pcla/pcla3.png" alt="Training" class="pcl-academy-img">
                    <div class="pcl-academy-label">Trainings</div>
                </div>
                <div class="pcl-academy-item">
                    <img src="assets/img/pcla/pcla4.png" alt="Award" class="pcl-academy-img">
                    <div class="pcl-academy-label">Awards</div>
                </div>
            </div>
            <div class="pcl-academy-footer">Here, you will find structured training modules, compliance courses, and skill-building resources essential to your career development and organizational excellence.</div>
        </div>
    </section>

    <section class="pcl-exam-section">
        <div class="pcl-exam-bg">
            <div class="pcl-exam-card">
                <p>Be a part of PCL training program<br>and become better.</p>
                <a href="https://www.academy.pcl.com.ph/" class="pcl-exam-btn" style="text-decoration: none;" target="_blank" rel="noopener">Log In to PCL Academy</a>
            </div>
        </div>
    </section>
    <button class="menu-btn" id="menuBtn" title="Menu">
        <img src="assets/img/logo.png" alt="Menu">
        <div class="speech-bubble" id="speechBubble">Drag Me</div>
    </button>
    <div class="assistive-menu" id="assistiveMenu">
        <div class="assistive-grid">
        <div class="assistive-center-logo">
            <img src="assets/img/logo.png" alt="Logo">
        </div>
        <div class="assistive-item" data-target="home.html"><span class="assistive-label">Home</span></div>
        <div class="assistive-item" data-target="services.html"><span class="assistive-label">Logistics</span></div>
        <div class="assistive-item" data-target="pclAcademy.html"><span class="assistive-label">Academy</span></div>
        <div class="assistive-item" data-target="careers.html"><span class="assistive-label">Careers</span></div>
        <div class="assistive-item" data-target="events.html"><span class="assistive-label">Events</span></div>
        <div class="assistive-item" data-target="enerhia.html"><span class="assistive-label">Enerhia</span></div>
        <div class="assistive-item" data-target="transport.html"><span class="assistive-label">Transport</span></div>
        </div>
    </div>
<script src="assets/js/script.js"></script>
    <script>
    // Carousel functionality
    const slides = document.querySelectorAll('.carousel-img');
    const dots = document.querySelectorAll('.carousel-dot');
    const prevBtn = document.querySelector('.carousel-btn.prev');
    const nextBtn = document.querySelector('.carousel-btn.next');
    let currentIndex = 0;
    let autoSlide;

    function showSlide(index) {
        slides.forEach((slide, i) => {
            slide.classList.toggle('active', i === index);
        });
        dots.forEach((dot, i) => {
            dot.classList.toggle('active', i === index);
        });
        currentIndex = index;
    }
    function nextSlide() {
        let next = (currentIndex + 1) % slides.length;
        showSlide(next);
    }
    function prevSlide() {
        let prev = (currentIndex - 1 + slides.length) % slides.length;
        showSlide(prev);
    }
    function startAutoSlide() {
        autoSlide = setInterval(nextSlide, 7000); 
    }
    function stopAutoSlide() {
        clearInterval(autoSlide);
    }
    dots.forEach((dot, i) => {
        dot.addEventListener('click', () => {
            showSlide(i);
            stopAutoSlide();
            startAutoSlide();
        });
    });
    nextBtn.addEventListener('click', () => {
        nextSlide();
        stopAutoSlide();
        startAutoSlide();
    });
    prevBtn.addEventListener('click', () => {
        prevSlide();
        stopAutoSlide();
        startAutoSlide();
    });
    showSlide(0);
    startAutoSlide();

    // Enable drag-to-scroll for gallery
    const galleryTrack = document.querySelector('.events-gallery-track');
    let isDown = false;
    let startX;
    let scrollLeft;
    galleryTrack.addEventListener('mousedown', (e) => {
        isDown = true;
        galleryTrack.classList.add('active');
        startX = e.pageX - galleryTrack.offsetLeft;
        scrollLeft = galleryTrack.scrollLeft;
    });
    galleryTrack.addEventListener('mouseleave', () => {
        isDown = false;
        galleryTrack.classList.remove('active');
    });
    galleryTrack.addEventListener('mouseup', () => {
        isDown = false;
        galleryTrack.classList.remove('active');
    });
    galleryTrack.addEventListener('mousemove', (e) => {
        if (!isDown) return;
        e.preventDefault();
        const x = e.pageX - galleryTrack.offsetLeft;
        const walk = (x - startX) * 1.5; // scroll speed
        galleryTrack.scrollLeft = scrollLeft - walk;
    });

    // Next/Prev buttons scroll the gallery left/right
    const prevGalleryBtn = document.querySelector('.prev-gallery');
    const nextGalleryBtn = document.querySelector('.next-gallery');
    prevGalleryBtn.addEventListener('click', () => {
        galleryTrack.scrollBy({ left: -320, behavior: 'smooth' });
    });
    nextGalleryBtn.addEventListener('click', () => {
        galleryTrack.scrollBy({ left: 320, behavior: 'smooth' });
    });

    // Event card modal functionality
    const eventCards = document.querySelectorAll('.event-card');
    const eventModal = document.getElementById('eventModal');
    const modalImg = document.getElementById('modalImg');
    const closeModal = document.querySelector('.close-modal');

    // Show modal with the clicked card's image
    function showEventModal(card) {
        const imageSrc = card.getAttribute('data-image');
        eventModal.style.display = 'flex';
        modalImg.src = imageSrc;
        modalImg.alt = 'Event Image';
        modalImg.classList.remove('zoomed');
    }

    eventCards.forEach(card => {
        card.addEventListener('click', () => {
            showEventModal(card);
        });
        card.addEventListener('keypress', (e) => {
            if (e.key === 'Enter' || e.key === ' ') {
                showEventModal(card);
            }
        });
    });

    // Zoom functionality for modal image
    modalImg.addEventListener('click', function() {
        this.classList.toggle('zoomed');
        if (this.classList.contains('zoomed')) {
            eventModal.classList.add('zoom-scroll');
        } else {
            eventModal.classList.remove('zoom-scroll');
        }
    });

    closeModal.onclick = function() {
        eventModal.style.display = 'none';
        modalImg.classList.remove('zoomed');
        eventModal.classList.remove('zoom-scroll');
    };

    window.onclick = function(event) {
        if (event.target === eventModal) {
            eventModal.style.display = 'none';
            modalImg.classList.remove('zoomed');
            eventModal.classList.remove('zoom-scroll');
        }
    };
    </script>

<!-- Chat Assistance Button and Modal -->
<button id="chatAssistBtn" title="Chat Assistance">
    <img id="chatAssistIcon" src="assets/img/email.png" alt="Chat">
</button>

<div id="chatModal">
    <div class="modal-content">
        <button class="close-modal" id="closeModalBtn" title="Close">&times;</button>
        <div class="modal-header">
            <img src="assets/img/logo.png" alt="Logo" style="width:38px;height:38px;margin-right:10px;">
            <span style="color:#fff;font-size:1.2rem;font-weight:600;">Chat Assistance</span>
        </div>
        
        <div class="form-container">
            <form action="https://formsubmit.co/ajax/nesio@pcl.com.ph" method="POST" id="chatAssistForm">
                <input type="text" name="Name" placeholder="Full Name" required>
                <input type="email" name="email" placeholder="E-Mail" required>
                <input type="text" name="Number" placeholder="Contact No." required>
                <textarea name="Message" placeholder="Message" required></textarea>
                
                <input type="hidden" name="_cc" value="icdulce@pcl.com.ph,inquiry@pcl.com.ph,pclacademy@pcl.com.ph">
                <input type="hidden" name="_template" value="table">
                <input type="hidden" name="_captcha" value="false"> 

                <input type="submit" id="submitBtn1" value="Submit">
            </form>
            
            <div id="chatThankYou" style="display:none;color:#fff;text-align:center;font-size:1.1rem;padding:18px 0 0 0;">
                Thank you for contacting us!<br>We have received your message.
            </div>
        </div>
    </div>
</div>

<style>
#chatAssistBtn {  position: fixed; bottom: 24px; right: 24px; width: 60px; height: 60px; background: none; border: none; border-radius: 50%; cursor: pointer; padding: 0; z-index: 9999; display: flex; align-items: center; justify-content: center; }
#chatAssistBtn img {  width: 60px; height: 60px; transition: transform 0.18s; filter: drop-shadow(0 2px 5px rgba(0,0,0,0.3)); }
#chatAssistBtn:hover img { transform: scale(1.1); }
#chatModal {  display: none; position: fixed; z-index: 10000; left: 0; top: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); align-items: center; justify-content: center; }
.modal-content {  background: #353535; border-radius: 18px; padding: 32px 18px 18px; width: 90%; max-width: 400px; position: relative; box-shadow: 0 10px 25px rgba(0,0,0,0.5); }
.close-modal {  position: absolute; top: 10px; right: 15px; font-size: 1.8rem; color: #fff; background: none; border: none; cursor: pointer; }
.modal-header {  display: flex; align-items: center; margin-bottom: 18px; }
#chatAssistForm { display: flex; flex-direction: column; gap: 12px; }
#chatAssistForm input:not([type="submit"]),
#chatAssistForm textarea {  background: #f7f7f7; border: none; border-radius: 12px; padding: 12px; font-size: 14px; outline: none; width: 100%; box-sizing: border-box; }
#chatAssistForm textarea { min-height: 100px; resize: vertical; }
#submitBtn1 { background: #d32f2f; color: #fff; font-weight: 600; border: none; border-radius: 12px; padding: 12px; cursor: pointer; transition: background 0.3s ease; margin-top: 5px; }
#submitBtn1:hover { background: #7c2222; }
.pulse { animation: iconPulse 0.7s ease-in-out; }
@keyframes iconPulse { 
    0% { transform: scale(1); }
    50% { transform: scale(1.1); }
    100% { transform: scale(1); }
}
@media (max-width: 600px) {
    #chatAssistBtn { bottom: 15px; right: 15px; }
    .modal-content { width: 95%; }
}
</style>

<script>
    document.addEventListener('DOMContentLoaded', () => {
        const chatBtn = document.getElementById('chatAssistBtn');
        const chatModal = document.getElementById('chatModal');
        const closeModalBtn = document.getElementById('closeModalBtn');
        const chatIcon = document.getElementById('chatAssistIcon');
        const chatAssistForm = document.getElementById('chatAssistForm');
        const chatThankYou = document.getElementById('chatThankYou');

        if (chatBtn && chatModal && closeModalBtn) {
            chatBtn.addEventListener('click', () => chatModal.style.display = 'flex');
            closeModalBtn.addEventListener('click', () => chatModal.style.display = 'none');
            window.addEventListener('click', (e) => {
                if (e.target === chatModal) chatModal.style.display = 'none';
            });
        }

        if (chatBtn && chatIcon) {
            setInterval(() => {
                if (!chatBtn.matches(':hover')) {
                    chatIcon.classList.add('pulse');
                    setTimeout(() => chatIcon.classList.remove('pulse'), 700);
                }
            }, 4000);
        }

        if (chatAssistForm) {
            chatAssistForm.addEventListener('submit', function(e) {
                e.preventDefault();
                const submitBtn1 = document.getElementById('submitBtn1');
                const originalBtnValue = submitBtn1.value;
                submitBtn1.value = "Sending...";
                submitBtn1.disabled = true;

                const formData = new FormData(chatAssistForm);
                const data = Object.fromEntries(formData.entries());

                fetch(chatAssistForm.action, {
                    method: 'POST',
                    headers: { 
                        'Content-Type': 'application/json',
                        'Accept': 'application/json' 
                    },
                    body: JSON.stringify(data)
                })
                .then(response => {
                    console.log("FormSubmit Status:", response.status); 
                    if (response.ok) {
                        chatAssistForm.style.display = 'none';
                        chatThankYou.style.display = 'block';
                        setTimeout(() => {
                            chatModal.style.display = 'none';
                            chatAssistForm.reset();
                            chatAssistForm.style.display = 'flex';
                            chatThankYou.style.display = 'none';
                            submitBtn1.value = originalBtnValue;
                            submitBtn1.disabled = false;
                        }, 3000);
                    } else {
                        return response.json().then(data => {
                            console.error("FormSubmit Error:", data);
                            throw new Error('Server Error');
                        });
                    }
                })
                .catch(error => {
                    console.error("Fetch Error:", error);
                    alert("Something went wrong. Please check your internet connection or try again later.");
                    submitBtn1.value = originalBtnValue;
                    submitBtn1.disabled = false;
                });
            });
        }
    });
</script>
</body>
</html>