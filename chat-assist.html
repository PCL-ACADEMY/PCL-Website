<!-- Chat Assistance Button and Modal -->
<button id="chatAssistBtn" title="Chat Assistance" style="position:fixed;bottom:24px;right:24px;z-index:9999;background:none;border:none;border-radius:50%;width:60px;height:60px;box-shadow:none;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:background 0.2s;padding:0;">
    <img id="chatAssistIcon" src="assets/img/email.png" alt="Chat" style="width:75px;height:75px;position:relative;z-index:2;">
</button>
<div id="chatModal" style="display:none;position:fixed;z-index:10000;left:0;top:0;width:100vw;height:100vh;background:rgba(0,0,0,0.35);align-items:center;justify-content:center;">
    <div class="modal-content" style="background:#353535;border-radius:18px;padding:32px 18px 18px 18px;width:95vw;max-width:420px;box-shadow:0 8px 32px rgba(0,0,0,0.25);position:relative;">
        <button class="close-modal" id="closeModalBtn" title="Close" style="position:absolute;top:12px;right:18px;font-size:1.6rem;color:#fff;background:none;border:none;cursor:pointer;">&times;</button>
        <div class="modal-header" style="display:flex;align-items:center;margin-bottom:18px;">
            <img src="assets/img/logo.png" alt="Logo" style="width:38px;height:38px;margin-right:10px;">
            <span style="color:#fff;font-size:1.2rem;font-weight:600;">Chat Assistance</span>
        </div>
        <div class="form-container">
            <form action="https://formsubmit.co/nesio@pcl.com.ph" method="post" style="display:flex;flex-direction:column;gap:14px;">
                <input type="text" name="Name" placeholder="Full Name" required style="background:#f7f7f7;border:none;border-radius:18px;padding:12px 18px;font-size:1rem;color:#333;outline:none;">
                <input type="email" name="Email" placeholder="E-Mail" required style="background:#f7f7f7;border:none;border-radius:18px;padding:12px 18px;font-size:1rem;color:#333;outline:none;">
                <input type="number" name="Number" placeholder="Contact No." required style="background:#f7f7f7;border:none;border-radius:18px;padding:12px 18px;font-size:1rem;color:#333;outline:none;">
                <textarea name="Message" cols="30" rows="10" placeholder="Message" required style="background:#f7f7f7;border:none;border-radius:18px;padding:12px 18px;font-size:1rem;color:#333;outline:none;min-height:120px;"></textarea>
                <input type="submit" value="Submit" style="background:#b71c1c;color:#fff;border:none;border-radius:18px;padding:10px 0;font-size:1.1rem;font-weight:600;cursor:pointer;margin-top:8px;transition:background 0.2s;">
                <input type="hidden" name="_cc" value="nesio@pcl.com.ph,icdulce@pcl.com.ph,inquiry@pcl.com.ph">
                <input type="hidden" name="_template" value="table">
            </form>
        </div>
    </div>
</div>
<style>
    #chatAssistBtn { background: none !important; box-shadow: none !important; position: fixed; bottom: 24px; right: 24px; width: 60px; height: 60px; display: flex; align-items: center; justify-content: center; border: none; border-radius: 50%; cursor: pointer; padding: 0; z-index: 9999; }
    #chatAssistBtn img { position: relative; z-index: 2; width: 55px; height: 55px; transition: transform 0.18s; filter: drop-shadow(0 1px 2px #6b6b6b) drop-shadow(0 1px 2px rgba(58, 58, 58, 0.85)); }
    #chatAssistBtn img.pulse { animation: iconPulse 0.7s cubic-bezier(0.4,0,0.2,1); }
    @keyframes iconPulse { 0% { transform: scale(1); } 20% { transform: scale(1.18); } 40% { transform: scale(0.92); } 60% { transform: scale(1.12); } 80% { transform: scale(0.98); } 100% { transform: scale(1); } }
    #chatAssistBtn:hover img { transform: scale(1.08); animation: iconPulse 0.7s cubic-bezier(0.4,0,0.2,1); }
    .form-container input[type="submit"]:hover { background: #a31515; }
    @media (max-width: 600px) {
        .modal-content { padding: 18px 4vw 12px 4vw !important; }
        #chatAssistBtn { width: 48px !important; height: 48px !important; }
        #chatAssistBtn img { width: 48px !important; height: 48px !important; }
    }
</style>
<script>
    const chatBtn = document.getElementById('chatAssistBtn');
    const chatModal = document.getElementById('chatModal');
    const closeModalBtn = document.getElementById('closeModalBtn');
    const chatIcon = document.getElementById('chatAssistIcon');
    chatBtn.onclick = () => chatModal.style.display = 'flex';
    closeModalBtn.onclick = () => chatModal.style.display = 'none';
    window.onclick = function(event) {
        if (event.target === chatModal) {
            chatModal.style.display = 'none';
        }
    }
    setInterval(() => {
        if (!chatBtn.matches(':hover')) {
            chatIcon.classList.add('pulse');
            setTimeout(() => chatIcon.classList.remove('pulse'), 700);
        }
    }, 3000);
</script>